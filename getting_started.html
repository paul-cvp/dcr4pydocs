
<!DOCTYPE html>


<html lang="en" data-content_root="./" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Getting Started &#8212; pm4py 2.7.10 documentation</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="./styles/theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="./styles/bootstrap.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="./styles/pydata-sphinx-theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />

  
  <link href="./vendor/fontawesome/6.5.2/css/all.min.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="./vendor/fontawesome/6.5.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="./vendor/fontawesome/6.5.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="./vendor/fontawesome/6.5.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="./pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="./css/custom.css?v=c1b0afdb" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="./scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b" />
<link rel="preload" as="script" href="./scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b" />
  <script src="./vendor/fontawesome/6.5.2/js/all.min.js?digest=dfe6caa3a7d634c4db9b"></script>

    <script src="./documentation_options.js?v=319a7919"></script>
    <script src="./doctools.js?v=9a2dae69"></script>
    <script src="./sphinx_highlight.js?v=dc90522c"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'getting_started';</script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-primary-sidebar-checkbox"/>
  <label class="overlay overlay-primary" for="pst-primary-sidebar-checkbox"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-secondary-sidebar-checkbox"/>
  <label class="overlay overlay-secondary" for="pst-secondary-sidebar-checkbox"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search the docs ..."
         aria-label="Search the docs ..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
<div class="bd-header__inner bd-page-width">
  <button class="pst-navbar-icon sidebar-toggle primary-toggle" aria-label="Site navigation">
    <span class="fa-solid fa-bars"></span>
  </button>
  
  
  <div class="col-lg-3 navbar-header-items__start">
    
      <div class="navbar-item">

  
    
  

<a class="navbar-brand logo" href="index.html">
  
  
  
  
  
    
    
      
    
    
    <img src="./pm4py-logo.png" class="logo__image only-light" alt="pm4py 2.7.10 documentation - Home"/>
    <script>document.write(`<img src="./pm4py-logo.png" class="logo__image only-dark" alt="pm4py 2.7.10 documentation - Home"/>`);</script>
  
  
</a></div>
    
  </div>
  
  <div class="col-lg-9 navbar-header-items">
    
    <div class="me-auto navbar-header-items__center">
      
        <div class="navbar-item">
<nav>
  <ul class="bd-navbar-elements navbar-nav">
    
<li class="nav-item ">
  <a class="nav-link nav-internal" href="api.html">
    API Reference
  </a>
</li>

  </ul>
</nav></div>
      
    </div>
    
    
    <div class="navbar-header-items__end">
      
      
        <div class="navbar-item">

<script>
document.write(`
  <button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="theme-switch fa-solid fa-sun fa-lg" data-mode="light"></i>
    <i class="theme-switch fa-solid fa-moon fa-lg" data-mode="dark"></i>
    <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"></i>
  </button>
`);
</script></div>
      
    </div>
    
  </div>
  
  

  
    <button class="pst-navbar-icon sidebar-toggle secondary-toggle" aria-label="On this page">
      <span class="fa-solid fa-outdent"></span>
    </button>
  
</div>

    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
        
      
      <div class="bd-sidebar-primary bd-sidebar hide-on-wide">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
      <div class="sidebar-header-items__center">
        
          
          
            <div class="navbar-item">
<nav>
  <ul class="bd-navbar-elements navbar-nav">
    
<li class="nav-item ">
  <a class="nav-link nav-internal" href="api.html">
    API Reference
  </a>
</li>

  </ul>
</nav></div>
          
        
      </div>
    
    
    
      <div class="sidebar-header-items__end">
        
          <div class="navbar-item">

<script>
document.write(`
  <button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="theme-switch fa-solid fa-sun fa-lg" data-mode="light"></i>
    <i class="theme-switch fa-solid fa-moon fa-lg" data-mode="dark"></i>
    <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"></i>
  </button>
`);
</script></div>
        
      </div>
    
  </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        
          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item">



<nav aria-label="Breadcrumb" class="d-print-none">
  <ul class="bd-breadcrumbs">
    
    <li class="breadcrumb-item breadcrumb-home">
      <a href="index.html" class="nav-link" aria-label="Home">
        <i class="fa-solid fa-home"></i>
      </a>
    </li>
    <li class="breadcrumb-item active" aria-current="page">Getting Started</li>
  </ul>
</nav>
</div>
      
    </div>
  
  
</div>
</div>
              
              
              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section id="getting-started">
<h1>Getting Started<a class="headerlink" href="#getting-started" title="Link to this heading">#</a></h1>
<section id="understanding-process-mining">
<h2>Understanding Process Mining<a class="headerlink" href="#understanding-process-mining" title="Link to this heading">#</a></h2>
<!--<iframe width="560" height="315" src="https://www.youtube.com/embed/XLHtvt36g6U" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>-->
<a href="https://www.youtube.com/embed/XLHtvt36g6U" target="_blank" rel="noopener noreferrer">→ Watch on YouTube: pm4py tutorials - tutorial #1 What is Process Mining?</a><p>In this section, we explain what process mining is all about.
Note that this page describes the basics of process mining, i.e., it is not a full-fledged reference of every possible aspect of process mining.
Therefore, for a more detailed overview of process mining, we recommend looking at the <a class="reference external" href="https://www.coursera.org/learn/process-mining">Coursera MOOC on Process Mining</a> and the <a class="reference external" href="https://www.springer.com/gp/book/9783662498507">seminal book of Wil van der Aalst</a>.
Furthermore, before you begin, please install PM4Py on your system, i.e., as described in the <a class="reference internal" href="install.html"><span class="doc">Installation</span></a> section.</p>
<section id="processes-in-our-modern-world">
<h3>Processes in our Modern World<a class="headerlink" href="#processes-in-our-modern-world" title="Link to this heading">#</a></h3>
<p>The vast majority of companies active in virtually any domain execute a process.
Whether the core business of a company is to deliver a product, e.g., manufacture a car, cook a delicious pizza, etc., or provide a service, e.g., providing you with a mortgage to buy your dream house, paying back your insurance claim, etc., for efficient delivery of your product/service, processes are executed.
Hence, a natural question is: “What is a process?”.
In general, several notions of the concept of a process exist.
However, in process mining, we typically assume the following conceptual definition:</p>
<p>“A <strong>process</strong> represents a <strong>collection of activities</strong> that we <strong>execute</strong> to achieve a <strong>certain goal</strong>.”</p>
<p>For example, consider the burger restaurant just around the corner, which also delivers burgers.
When you call the restaurant to order your beloved burger, the first action taken by the employee, let’s call her <strong>Lucy</strong>, taking your call, is to <em>take your order</em>.
Let’s assume you go for a tasty cheeseburger with a can of soda.
After Lucy has <em>entered your order in the cash register</em>, she <em>asks for your address</em>, which she adds to the order.
Finally, she <em>asks for your preferred means of payment</em>, after which she provides you with a rough estimate of the time until delivery.
When Lucy finishes the call, she <em>prints your order</em> and hands it over to the chef, let’s call him <strong>Luigi</strong>.
Since you’ve called relatively early, Luigi can start <em>preparing your burger</em> right away.
At the same time, Lucy <em>takes a can of soda out of the refrigerator</em> and places it on the counter.
A new call comes in from a different customer, which she handles roughly the same way as yours.
When Luigi <em>finishes your burger</em>, he <em>slides it into a carton box</em> and hands the box over to Lucy.
Lucy <em>wraps the order</em> in a bag.
She then hands the bag with your burger and soda to <strong>Mike</strong>, which uses a fancy electrical bicycle to <em>bring your order to your home</em>.</p>
<p>In this small example, let’s assume that we are interested in the process, i.e., the collection of activities performed for your order.
Based on the scenario we just presented, the steps look as follows:</p>
<ol class="arabic simple">
<li><p><strong>Lucy</strong> <em>takes your order</em></p></li>
<li><p><strong>Lucy</strong> <em>notes down your address</em></p></li>
<li><p><strong>Lucy</strong> <em>notes down your preferred payment method</em></p></li>
<li><p><strong>Luigi</strong> <em>prepares your burger</em></p></li>
<li><p><strong>Lucy</strong> <em>grabs your can of soda</em></p></li>
<li><p><strong>Luigi</strong> <em>puts your burger in a box</em></p></li>
<li><p><strong>Lucy</strong> <em>wraps your order</em></p></li>
<li><p><strong>Mike</strong> <em>delivers your order</em></p></li>
</ol>
</section>
</section>
<section id="importing-your-first-event-log">
<h2>Importing Your First Event Log<a class="headerlink" href="#importing-your-first-event-log" title="Link to this heading">#</a></h2>
<p>In this section, we explain how to import (and export) event data in PM4Py. We assume that you are familiar with the conceptual basics of process mining, i.e., as described in the previous section.</p>
<section id="file-types-csv-and-xes">
<h3>File Types: CSV and XES<a class="headerlink" href="#file-types-csv-and-xes" title="Link to this heading">#</a></h3>
<p>As explained in the previous section, process mining exploits Event Logs to generate knowledge of a process. A wide variety of information systems, e.g., SAP, ORACLE, SalesForce, etc., allow us to extract, in one way or the other, event logs similar to the example event log presented in Table 1 and Table 2. All the examples we show in this section and all algorithms implemented in pm4py assume that we have already extracted the event data into an appropriate event log format. Hence, the core of pm4py does not support any data extraction features. However, we provide solutions for data extraction purposes, i.e., please inspect the corresponding <a class="reference external" href="/solution-connectors">solutions page</a>.</p>
<p>In order to support interoperability between different process mining tools and libraries, two standard data formats are used to capture event logs, i.e., Comma Separated Value (CSV) files and eXtensible Event Stream (XES) files. CSV files resemble the example tables shown in the previous section, i.e., Table 1 and Table 2. Each line in such a file describes an event that occurred. The columns represent the same type of data, as shown in the examples, e.g., the case for which the event occurred, the activity, the timestamp, the resource executing the activity, etc. The XES file format is an XML-based format that allows us to describe process behavior. We will not go into details w.r.t. the format of XES files, i.e., we refer to <a class="reference external" href="https://www.xes-standard.org">https://www.xes-standard.org</a> for an overview.</p>
<p>In the remainder of this tutorial, we will use an oftenly used dummy example event log to explain the basic process mining operations. The process that we are considering is a simplified process related to customer complaint handling, i.e., <em>taken from the book of van der Aalst</em>. The process, and the event data we are going to use, looks as follows.</p>
<img alt="https://pm4py.fit.fraunhofer.de/static/assets/images/getting_started/bpmn_running_example.png" src="https://pm4py.fit.fraunhofer.de/static/assets/images/getting_started/bpmn_running_example.png" />
<p><em>Figure 3: Running example BPMN-based process model describing the behavior of the simple process that we use in this tutorial.</em></p>
<p>Let’s get started! We have prepared a small sample event log, containing behavior similar equal to the process model in Figure 3. <a class="reference external" href="/static/assets/data/getting_started/running-example.csv">You can find the sample event log here</a>. Please download the file and store it somewhere on your computer, e.g., your Downloads folder (On Windows: this is ‘C:/Users/user_name/Dowloads’). Consider Figure 4, in which we depict the first 25 rows of the example file.</p>
<img alt="https://pm4py.fit.fraunhofer.de/static/assets/images/getting_started/csv_snapshot.png" src="https://pm4py.fit.fraunhofer.de/static/assets/images/getting_started/csv_snapshot.png" />
<p><em>Figure 4: Running example csv data set which we will use in this tutorial.</em></p>
<p>Note that, the data depicted in Figure 4 describes a table, however, in text format. Each line in the file corresponds to a row in the table. Whenever we encounter a ‘;’ symbol on a line, this implies that we are ‘entering’ the next column. The first line (i.e., row) specifies the name of each column. Observe that, in the data table described by the file, we have 5 columns, being: <em>case_id</em>, <em>activity</em>, <em>timestamp</em>, <em>costs</em> and <em>resource</em>. Observe that, similar to our previous example, the first column represents the case identifier, i.e., allowing us to identify what activity has been logged in the context of what instance of the process. The second column shows the activity that has been performed. The third column shows at what point in time the activity was recorded. In this example data, additional information is present as well. In this case, the fourth column tracks the costs of the activity, whereas the fifth row tracks what resource has performed the activity.</p>
<p>Before we go into loading the example file into PM4Py, let us briefly take a look at the data. Observe that, lines 2-10 show the events that have been recorded for the process identified by case identifier 3. We observe that first a register request activity was performed, followed by the examine casually, check ticket, decide,reinitiate request, examine thoroughlycheck ticket,decide, and finally, pay compensation activities. Note that, indeed, in this case the recorded process instance behaves as described by the model depicted in Figure 3.</p>
</section>
<section id="loading-csv-files">
<h3>Loading CSV Files<a class="headerlink" href="#loading-csv-files" title="Link to this heading">#</a></h3>
    <!--<iframe width="560" height="315" src="https://www.youtube.com/embed/bWOKVx0PO6g" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>-->
<a href="https://www.youtube.com/embed/bWOKVx0PO6g" target="_blank" rel="noopener noreferrer">→ Watch on YouTube: pm4py tutorials - tutorial #2 Importing CSV Files</a><p>Given that we have familiarized ourselves with event logs and a way to represent event logs in a CSV file, it is time to start doing some process mining! We are going to load the event data, and, we are going to count how many cases are present in the event log, as well as the number of events. Note that, for all this, we are effectively using a third-party library called <a class="reference external" href="https://pandas.pydata.org">pandas</a>. We do so because pandas is the de-facto standard of loading/manipulating csv-based data. Hence, <em>any process mining algorithm implemented in PM4Py, using an event log as an input, can work directly with a pandas file!</em></p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span>


<span class="k">def</span> <span class="nf">import_csv</span><span class="p">(</span><span class="n">file_path</span><span class="p">):</span>
    <span class="n">event_log</span> <span class="o">=</span> <span class="n">pandas</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">file_path</span><span class="p">,</span> <span class="n">sep</span><span class="o">=</span><span class="s1">&#39;;&#39;</span><span class="p">)</span>
    <span class="n">num_events</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">event_log</span><span class="p">)</span>
    <span class="n">num_cases</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">event_log</span><span class="o">.</span><span class="n">case_id</span><span class="o">.</span><span class="n">unique</span><span class="p">())</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Number of events: </span><span class="si">{}</span><span class="se">\n</span><span class="s2">Number of cases: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">num_events</span><span class="p">,</span> <span class="n">num_cases</span><span class="p">))</span>


<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
    <span class="n">import_csv</span><span class="p">(</span><span class="s2">&quot;C:/Users/demo/Downloads/running-example.csv&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p><em>Example 1: Loading an event log stored in a CSV file and computing the number of cases and the number of events in the file. In this example, no PM4Py is used yet, it is all being handled using pandas. If you run the code yourself, make sure to replace the path ‘C:/Users/demo/Downloads/running-example.csv’, to the appropriate path on your computer containing the running example file.</em></p>
<p>We will quickly go through the above example code. In the first line, we import the pandas library. The last lines (containing the if-statement) make sure that the code, when pasted, runs on its own (we will omit these lines from future examples). The core of the script is the function <strong>import_csv</strong>. As an input parameter, it requires the path to the csv file. The script uses the pandas read_csv-function, to load the event data. To calculate the number of events, we simply query the length of the data frame, i.e., by calling <strong>len(event_log)</strong>. To calculate the number of cases, we use a built-in pandas function to return the number of unique values of the case_id column, i.e., <strong>event_log.case_id.unique()</strong>. Since that function returns a pandas built-in array object containing all the values of the column, we again query for its length. Note that, as is often the case when programming, there is a wide variety of ways to compute the aforementioned example statistics on the basis of a given CSV file.</p>
<p>Now we have loaded our first event log, it is time to put some PM4Py into the mix. Let us assume that we are not only interested in the number of events and cases, yet, we also want to figure out what activities occur first, and what activities occur last in the traces described by the event log. PM4Py has a specific built-in function for this, i.e., <strong>get_start_activities()</strong> and <strong>get_end_activities()</strong> respectively. Consider Example 2, in which we present the corresponding script.</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span>
<span class="kn">import</span> <span class="nn">pm4py</span>


<span class="k">def</span> <span class="nf">import_csv</span><span class="p">(</span><span class="n">file_path</span><span class="p">):</span>
    <span class="n">event_log</span> <span class="o">=</span> <span class="n">pandas</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">file_path</span><span class="p">,</span> <span class="n">sep</span><span class="o">=</span><span class="s1">&#39;;&#39;</span><span class="p">)</span>
    <span class="n">event_log</span> <span class="o">=</span> <span class="n">pm4py</span><span class="o">.</span><span class="n">format_dataframe</span><span class="p">(</span><span class="n">event_log</span><span class="p">,</span> <span class="n">case_id</span><span class="o">=</span><span class="s1">&#39;case_id&#39;</span><span class="p">,</span> <span class="n">activity_key</span><span class="o">=</span><span class="s1">&#39;activity&#39;</span><span class="p">,</span> <span class="n">timestamp_key</span><span class="o">=</span><span class="s1">&#39;timestamp&#39;</span><span class="p">)</span>
    <span class="n">start_activities</span> <span class="o">=</span> <span class="n">pm4py</span><span class="o">.</span><span class="n">get_start_activities</span><span class="p">(</span><span class="n">event_log</span><span class="p">)</span>
    <span class="n">end_activities</span> <span class="o">=</span> <span class="n">pm4py</span><span class="o">.</span><span class="n">get_end_activities</span><span class="p">(</span><span class="n">event_log</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Start activities: </span><span class="si">{}</span><span class="se">\n</span><span class="s2">End activities: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">start_activities</span><span class="p">,</span> <span class="n">end_activities</span><span class="p">))</span>

<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
    <span class="n">import_csv</span><span class="p">(</span><span class="s2">&quot;csv_file.csv&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p><em>Example 2: Loading an event log stored in a CSV file and computing the start and end activities of the traces in the event log. If you run the code yourself, make sure to point the file path to the appropriate path on your computer containing the running example file.</em></p>
<p>Note that, we now import pandas and pm4py. The first line of our script again loads the event log stored in CSV format as a data frame. The second line transforms the event data table into a format that can be used by any process mining algorithm in pm4py. That is, the <strong>format_dataframe()</strong>-function creates a copy of the input event log, and renames the assigned columns to standardized column names used in pm4py. In our example, the column case_id is renamed to case:concept:name, the activity column is renamed to concept:name and the timestamp column is renamed to time:timestamp. The underlying reasons for using the aforementioned standard names is primarily related to XES-based (the other file format that we will look at shortly) legacy. Hence, it is advisable to always import a csv based log as follows.</p>
<p>Note that, in this example, the value of the arguments, i.e., <em>sep</em>, <em>case_id</em>, <em>activity_key</em> and <em>timestamp_key</em> are depending on the input data. To obtain the activities that occur first and, respectively, last in any trace in the event log, we call the pm4py.get_start_activities(event_log) and the pm4py.get_end_activities(event_log) functions. The functions return a dictionary, containing the activities as a key, and, the number of observations (i.e., number of traces in which they occur first, respectively, last) in the event log.</p>
<p>PM4Py exploits a built-in pandas function to detect the format of the timestamps in the input data automatically. However, pandas looks at the timestamp values in each row in isolation. In some cases, this can lead to problems. For example, if the provided value is 2020-01-18, i.e., first the year, then the month, and then the day of the date, in some cases, a value of 2020-02-01 may be interpreted wrongly as January 2nd, i.e., rather than February 1st. To alleviate this problem, an additional parameter can be provided to the <strong>format_dataframe()</strong> method, i.e., the timest_format parameter. In this example, the timestamp format is %Y-%m-%d %H:%M:%S%z. In general, we advise to specify the timestamp format!</p>
</section>
<section id="loading-xes-files">
<h3>Loading XES Files<a class="headerlink" href="#loading-xes-files" title="Link to this heading">#</a></h3>
    <!--<iframe width="560" height="315" src="https://www.youtube.com/embed/pmpN3A_h2sQ" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>-->
<a href="https://www.youtube.com/embed/pmpN3A_h2sQ" target="_blank" rel="noopener noreferrer">→ Watch on YouTube: pm4py tutorials - tutorial #3 Importing XES Files</a><p>Next to CSV files, event data can also be stored in an XML-based format, i.e., in XES files. In an XES file, we can describe a containment relation, i.e., a log contains a number of traces, which in turn contain several events. Furthermore, an object, i.e., a log, trace, or event, is allowed to have attributes. The advantage is that certain data attributes that are constant for a log or a trace, can be stored at that level. For example, assume that we only know the total costs of a case, rather than the costs of the individual events. If we want to store this information in a CSV file, we either need to replicate this information (i.e., we can only store data in rows, which directly refer to events), or, we need to explicitly define that certain columns only get a value once, i.e., referring to case-level attributes. The XES standard more naturally supports the storage of this type of information.</p>
<p>Consider Figure 5, in which we depict a snapshot of the running example data stored in the .xes file format. The complete file can be downloaded
<a class="reference external" href="https://pm4py.fit.fraunhofer.de/static/assets/data/getting_started/running-example.xes">here</a>.</p>
<img alt="https://pm4py.fit.fraunhofer.de/static/assets/images/getting_started/csv_snapshot.png" src="https://pm4py.fit.fraunhofer.de/static/assets/images/getting_started/csv_snapshot.png" />
<p><em>Figure 5: Running example xes data set.</em></p>
<p>Observe that the trace with number 1 (reflected by the [string key=”concept:name”]-tag on line 9) is the first trace recorded in this event log. The first event of the trace represents the “register request” activity executed by Pete. The second event is the “examine thoroughly” activity, executed by Sue, etc. We will not elaborate on the XES standard in detail here, i.e., we refer to the <a class="reference external" href="http://www.xes-standard.org/">XES homepage</a>, and, to our <a class="reference external" href="https://www.youtube.com/watch?v=pmpN3A_h2sQ&amp;t=1785s&amp;ab_channel=ProcessMiningforPython">video tutorial</a> on importing XES for more information.</p>
<p>Importing an XES file is fairly straightforward. PM4Py has a special <strong>read_xes()</strong>-function that can parse a given xes file and load it in PM4Py, i.e., as an Event Log object. Consider the following code snippet, in which we show how to import an XES event log. Like the previous example, the script outputs activities that can start and end a trace.</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">import_xes</span><span class="p">(</span><span class="n">file_path</span><span class="p">):</span>
    <span class="n">event_log</span> <span class="o">=</span> <span class="n">pm4py</span><span class="o">.</span><span class="n">read_xes</span><span class="p">(</span><span class="n">file_path</span><span class="p">)</span>
    <span class="n">start_activities</span> <span class="o">=</span> <span class="n">pm4py</span><span class="o">.</span><span class="n">get_start_activities</span><span class="p">(</span><span class="n">event_log</span><span class="p">)</span>
    <span class="n">end_activities</span> <span class="o">=</span> <span class="n">pm4py</span><span class="o">.</span><span class="n">get_end_activities</span><span class="p">(</span><span class="n">event_log</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Start activities: </span><span class="si">{}</span><span class="se">\n</span><span class="s2">End activities: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">start_activities</span><span class="p">,</span> <span class="n">end_activities</span><span class="p">))</span>

<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
    <span class="n">import_xes</span><span class="p">(</span><span class="s2">&quot;C:/Users/demo/Downloads/running-example.xes&quot;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="exporting-event-data">
<h3>Exporting Event Data<a class="headerlink" href="#exporting-event-data" title="Link to this heading">#</a></h3>
    <!--<iframe width="560" height="315" src="https://www.youtube.com/embed/gVnfG6xLIxI" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>-->
<a href="https://www.youtube.com/embed/gVnfG6xLIxI" target="_blank" rel="noopener noreferrer">→ Watch on YouTube: pm4py tutorials - tutorial #6 exporting event data</a><p>Now we are able to import event data into PM4Py, let’s take a look at the opposite, i.e., exporting event data. Exporting of event logs can be very useful, e.g., we might want to convert a .csv file into a .xes file or we might want to filter out certain (noisy) cases and save the filtered event log. Like importing, exporting of event data is possible in two ways, i.e., exporting to csv (using pandas) and exporting to xes. In the upcoming sections, we show how to export an event log stored as a pandas data frame into a csv file, a pandas data frame as a xes file, a PM4Py event log object as a csv file and finally, a PM4Py event log object as a xes file.</p>
<section id="storing-a-pandas-data-frame-as-a-csv-file">
<h4>Storing a Pandas Data Frame as a csv file<a class="headerlink" href="#storing-a-pandas-data-frame-as-a-csv-file" title="Link to this heading">#</a></h4>
<p>Storing an event log that is represented as a pandas dataframe is straightforward, i.e., we can directly use the <strong>to_csv</strong> function of the pandas DataFrame object. Consider the following example snippet of code, in which we show this functionality.</p>
<p>Note that the example code imports the running example csv file as a pandas data frame, and, exports it to a csv file at the location ‘C:/Users/demo/Desktop/running-example-exported.csv’. Note that, by default, pandas uses a ‘,’-symbol rather than ‘;’-symbol as a column separator.</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>

<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
    <span class="n">event_log</span> <span class="o">=</span> <span class="n">pm4py</span><span class="o">.</span><span class="n">format_dataframe</span><span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;C:/Users/demo/Downloads/running-example.csv&#39;</span><span class="p">,</span> <span class="n">sep</span><span class="o">=</span><span class="s1">&#39;;&#39;</span><span class="p">),</span> <span class="n">case_id</span><span class="o">=</span><span class="s1">&#39;case_id&#39;</span><span class="p">,</span>
    <span class="n">activity_key</span><span class="o">=</span><span class="s1">&#39;activity&#39;</span><span class="p">,</span> <span class="n">timestamp_key</span><span class="o">=</span><span class="s1">&#39;timestamp&#39;</span><span class="p">)</span>
    <span class="n">event_log</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="s1">&#39;C:/Users/demo/Desktop/running-example-exported.csv&#39;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="storing-a-pandas-data-frame-as-a-xes-file">
<h4>Storing a Pandas Data Frame as a .xes file<a class="headerlink" href="#storing-a-pandas-data-frame-as-a-xes-file" title="Link to this heading">#</a></h4>
<p>It is also possible to store a pandas data frame to a xes file. This is simply done by calling the <strong>pm4py.write_xes()</strong> function. You can pass the dataframe as an input parameter to the function, i.e., pm4py handles the internal conversion of the dataframe to an event log object prior to writing it to disk. Note that this construct only works if you have formatted the data frame, i.e., as highlighted earlier in the importing CSV section.</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span>
<span class="kn">import</span> <span class="nn">pm4py</span>

<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
    <span class="n">event_log</span> <span class="o">=</span> <span class="n">pm4py</span><span class="o">.</span><span class="n">format_dataframe</span><span class="p">(</span><span class="n">pandas</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;C:/Users/demo/Downloads/running-example.csv&#39;</span><span class="p">,</span> <span class="n">sep</span><span class="o">=</span><span class="s1">&#39;;&#39;</span><span class="p">),</span> <span class="n">case_id</span><span class="o">=</span><span class="s1">&#39;case_id&#39;</span><span class="p">,</span>
                                           <span class="n">activity_key</span><span class="o">=</span><span class="s1">&#39;activity&#39;</span><span class="p">,</span> <span class="n">timestamp_key</span><span class="o">=</span><span class="s1">&#39;timestamp&#39;</span><span class="p">)</span>
    <span class="n">pm4py</span><span class="o">.</span><span class="n">write_xes</span><span class="p">(</span><span class="n">event_log</span><span class="p">,</span> <span class="s1">&#39;C:/Users/demo/Desktop/running-example-exported.xes&#39;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="storing-an-event-log-object-as-a-csv-file">
<h4>Storing an Event Log object as a .csv file<a class="headerlink" href="#storing-an-event-log-object-as-a-csv-file" title="Link to this heading">#</a></h4>
<p>In some cases, we might want to store an event log object, e.g., obtained by importing a .xes file, as a csv file. For example, certain (commercial) process mining tools only support csv importing. For this purpose, pm4py offers conversion functionality that allows you to convert your event log object into a data frame, which you can subsequently export using pandas.</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pm4py</span>

<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
    <span class="n">event_log</span> <span class="o">=</span> <span class="n">pm4py</span><span class="o">.</span><span class="n">read_xes</span><span class="p">(</span><span class="s1">&#39;C:/Users/demo/Downloads/running-example.xes&#39;</span><span class="p">)</span>
    <span class="n">df</span> <span class="o">=</span> <span class="n">pm4py</span><span class="o">.</span><span class="n">convert_to_dataframe</span><span class="p">(</span><span class="n">event_log</span><span class="p">)</span>
    <span class="n">df</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="s1">&#39;C:/Users/demo/Desktop/running-example-exported.csv&#39;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="storing-an-event-log-object-as-a-xes-file">
<h4>Storing an Event Log object as a .xes file<a class="headerlink" href="#storing-an-event-log-object-as-a-xes-file" title="Link to this heading">#</a></h4>
<p>Storing an event log object as a .xes file is rather straightforward. In pm4py, the <strong>write_xes()</strong> method allows us to do so. Consider the simple example script below in which we show an example of this functionality.</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pm4py</span>

<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
    <span class="n">event_log</span> <span class="o">=</span> <span class="n">pm4py</span><span class="o">.</span><span class="n">read_xes</span><span class="p">(</span><span class="n">C</span><span class="p">:</span><span class="o">/</span><span class="n">Users</span><span class="o">/</span><span class="n">demo</span><span class="o">/</span><span class="n">Downloads</span><span class="o">/</span><span class="n">running</span><span class="o">-</span><span class="n">example</span><span class="o">.</span><span class="n">xes</span><span class="p">)</span>
    <span class="n">pm4py</span><span class="o">.</span><span class="n">write_xes</span><span class="p">(</span><span class="n">event_log</span><span class="p">,</span> <span class="s1">&#39;C:/Users/demo/Desktop/running-example-exported.xes&#39;</span><span class="p">)</span>
</pre></div>
</div>
</section>
</section>
<section id="pre-built-event-log-filters">
<h3>Pre-Built Event Log Filters<a class="headerlink" href="#pre-built-event-log-filters" title="Link to this heading">#</a></h3>
    <!--<iframe width="560" height="315" src="https://www.youtube.com/embed/alkZkhK2mAo" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>-->
<a href="https://www.youtube.com/embed/alkZkhK2mAo" target="_blank" rel="noopener noreferrer">→ Watch on YouTube: pm4py tutorials - tutorial #5: Playing with Event Data; Shipped Filters</a><p>There are various pre-built filters in PM4Py, which make commonly needed process mining filtering functionality a lot easier. In the upcoming list, we briefly give an overview of these functions. We describe how to call them, their main input parameters and their return objects.</p>
<ul>
<li><p><strong>filter_start_activities(log, activities, retain=True)</strong>; This function filters the given event log object (either a data frame or a PM4Py event log object) based on a given set of input activity names that need to occur at the starting point of a trace. If we set retain to False, we remove all traces that contain any of the specified activities as their first event.</p></li>
<li><p><strong>filter_end_activities(log, activities, retain=True)</strong>; Similar functionality to the start activity filter. However, in this case, the filter is applied for the activities that occur at the end of a trace.</p></li>
<li><p><strong>filter_event_attribute_values(log, attribute_key, values, level=”case”, retain=True)</strong>; Filters an event log (either data frame or PM4Py EventLog object) on event attributes. The attribute_key is a string representing the attribute key to filter, the values parameter allows you to specify a set of allowed values. If the level parameter is set to ‘case’, then any trace that contains at least one event that matches the attribute-value combination is retained. If the level parameter value is set to ‘event’, only the events are retained that describe the specified value. Setting retain to False inverts the filter.</p></li>
<li><p><strong>filter_trace_attribute_values(log, attribute_key, values, retain=True)</strong>; Keeps (or removes if retain is set to False) only the traces that have an attribute value for the provided attribute_key and listed in the collection of corresponding values.</p></li>
<li><p><strong>filter_variants(log, variants, retain=True)</strong>; Keeps those traces that correspond to a specific activity execution sequence, i.e., known as a variant. For example, in a large log, we want to retain all traces that describe the execution sequence ‘a’, ‘b’, ‘c’. The variants parameter is a collection of lists of activity names.</p></li>
<li><p><strong>filter_directly_follows_relation(log, relations, retain=True)</strong>; This function filters all traces that contain a specified ‘directly follows relation’. Such a relation is simply a pair of activities, e.g., (‘a’,’b’) s.t., ‘a’ is directly followed by ‘b’ in a trace. For example, the trace &lt;’a’,’b’,’c’,’d’&gt; contains directly follows pairs (‘a’,’b’), (‘b’,’c’) and (‘c’,’d’). The relations parameter is a set of tuples, containing activity names. The retain parameter allows us to express whether or not we want to keep or remove the mathcing traces.</p></li>
<li><p><strong>filter_eventually_follows_relation(log, relations, retain=True)</strong> This function allows us to match traces on a generalization of the directly follows relation, i.e., an arbitrary number of activities is allowed to occur in-between the input relations. For example, when we call the function with a relation (‘a’,’b’), any trace in which we observe activity ‘a’ at some point, to be followed later by activity ‘b’, again at some point, adheres to this filter. For example, a trace &lt;’a’,’b’,’c’,’d’&gt; contains eventually follows pairs (‘a’,’b’), (‘a’,’c’) (‘a’,’d’), (‘b’,’c’), (‘b’,’d’) and (‘c’,’d’). Again, the relations parameter is a set of tuples, containing activity names and the retain parameter allows us to express whether or not we want to keep or remove the matching traces.</p></li>
<li><p><strong>filter_time_range(log, dt1, dt2, mode=’events’)</strong>; Filters the event log based on a given time range, defined by timestamps dt1 and dt2. The timestamps should be of the form datetime.datetime. The filter has three modes (default: ‘events’):</p>
<blockquote>
<div><ul class="simple">
<li><p><em>‘events’</em>; Retains all events that fall in the provided time range. Removes any empty trace in the filtered event log.</p></li>
<li><p><em>‘traces_contained’</em>; Retains any trace that is completely ‘contained’ within the given time frame. For example, this filter is useful if one is interested to retain all full traces in a specific day/month/year.</p></li>
<li><p><em>‘traces_intersecting’</em>; Retains any trace that has at least one event that falls into the given time range.</p></li>
</ul>
</div></blockquote>
</li>
</ul>
<p>Consider the example code below, in which we provide various example applications of the mentioned filtering functions, using the running example event log. Try to copy-paste each line in your own environment and play around with the resulting filtered event log to get a good idea of the functionality of each filter. Note that, all functions shown below also work when providing a dataframe as an input!</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pm4py</span>
<span class="kn">import</span> <span class="nn">datetime</span> <span class="k">as</span> <span class="nn">dt</span>

<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
    <span class="n">log</span> <span class="o">=</span> <span class="n">pm4py</span><span class="o">.</span><span class="n">read_xes</span><span class="p">(</span><span class="s1">&#39;C:/Users/demo/Downloads/running-example.xes&#39;</span><span class="p">)</span>

    <span class="n">filtered</span> <span class="o">=</span> <span class="n">pm4py</span><span class="o">.</span><span class="n">filter_start_activities</span><span class="p">(</span><span class="n">log</span><span class="p">,</span> <span class="p">{</span><span class="s1">&#39;register request&#39;</span><span class="p">})</span>

    <span class="n">filtered</span> <span class="o">=</span> <span class="n">pm4py</span><span class="o">.</span><span class="n">filter_start_activities</span><span class="p">(</span><span class="n">log</span><span class="p">,</span> <span class="p">{</span><span class="s1">&#39;register request TYPO!&#39;</span><span class="p">})</span>

    <span class="n">filtered</span> <span class="o">=</span> <span class="n">pm4py</span><span class="o">.</span><span class="n">filter_end_activities</span><span class="p">(</span><span class="n">log</span><span class="p">,</span> <span class="p">{</span><span class="s1">&#39;pay compensation&#39;</span><span class="p">})</span>

    <span class="n">filtered</span> <span class="o">=</span> <span class="n">pm4py</span><span class="o">.</span><span class="n">filter_event_attribute_values</span><span class="p">(</span><span class="n">log</span><span class="p">,</span> <span class="s1">&#39;org:resource&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s1">&#39;Pete&#39;</span><span class="p">,</span> <span class="s1">&#39;Mike&#39;</span><span class="p">})</span>

    <span class="n">filtered</span> <span class="o">=</span> <span class="n">pm4py</span><span class="o">.</span><span class="n">filter_event_attribute_values</span><span class="p">(</span><span class="n">log</span><span class="p">,</span> <span class="s1">&#39;org:resource&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s1">&#39;Pete&#39;</span><span class="p">,</span> <span class="s1">&#39;Mike&#39;</span><span class="p">},</span> <span class="n">level</span><span class="o">=</span><span class="s1">&#39;event&#39;</span><span class="p">)</span>

    <span class="n">filtered</span> <span class="o">=</span> <span class="n">pm4py</span><span class="o">.</span><span class="n">filter_trace_attribute_values</span><span class="p">(</span><span class="n">log</span><span class="p">,</span> <span class="s1">&#39;concept:name&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s1">&#39;3&#39;</span><span class="p">,</span> <span class="s1">&#39;4&#39;</span><span class="p">})</span>

    <span class="n">filtered</span> <span class="o">=</span> <span class="n">pm4py</span><span class="o">.</span><span class="n">filter_trace_attribute_values</span><span class="p">(</span><span class="n">log</span><span class="p">,</span> <span class="s1">&#39;concept:name&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s1">&#39;3&#39;</span><span class="p">,</span> <span class="s1">&#39;4&#39;</span><span class="p">},</span> <span class="n">retain</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

    <span class="n">filtered</span> <span class="o">=</span> <span class="n">pm4py</span><span class="o">.</span><span class="n">filter_variants</span><span class="p">(</span><span class="n">log</span><span class="p">,</span> <span class="p">[</span>
        <span class="p">[</span><span class="s1">&#39;register request&#39;</span><span class="p">,</span> <span class="s1">&#39;check ticket&#39;</span><span class="p">,</span> <span class="s1">&#39;examine casually&#39;</span><span class="p">,</span> <span class="s1">&#39;decide&#39;</span><span class="p">,</span> <span class="s1">&#39;pay compensation&#39;</span><span class="p">]])</span>

    <span class="n">filtered</span> <span class="o">=</span> <span class="n">pm4py</span><span class="o">.</span><span class="n">filter_variants</span><span class="p">(</span><span class="n">log</span><span class="p">,</span> <span class="p">[</span>
        <span class="p">[</span><span class="s1">&#39;register request&#39;</span><span class="p">,</span> <span class="s1">&#39;check ticket&#39;</span><span class="p">,</span> <span class="s1">&#39;examine casually&#39;</span><span class="p">,</span> <span class="s1">&#39;decide&#39;</span><span class="p">,</span> <span class="s1">&#39;reject request&#39;</span><span class="p">]])</span>

    <span class="n">filtered</span> <span class="o">=</span> <span class="n">pm4py</span><span class="o">.</span><span class="n">filter_directly_follows_relation</span><span class="p">(</span><span class="n">log</span><span class="p">,</span> <span class="p">[(</span><span class="s1">&#39;check ticket&#39;</span><span class="p">,</span> <span class="s1">&#39;examine casually&#39;</span><span class="p">)])</span>

    <span class="n">filtered</span> <span class="o">=</span> <span class="n">pm4py</span><span class="o">.</span><span class="n">filter_eventually_follows_relation</span><span class="p">(</span><span class="n">log</span><span class="p">,</span> <span class="p">[(</span><span class="s1">&#39;examine casually&#39;</span><span class="p">,</span> <span class="s1">&#39;reject request&#39;</span><span class="p">)])</span>

    <span class="n">filtered</span> <span class="o">=</span> <span class="n">pm4py</span><span class="o">.</span><span class="n">filter_time_range</span><span class="p">(</span><span class="n">log</span><span class="p">,</span> <span class="n">dt</span><span class="o">.</span><span class="n">datetime</span><span class="p">(</span><span class="mi">2010</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">30</span><span class="p">),</span> <span class="n">dt</span><span class="o">.</span><span class="n">datetime</span><span class="p">(</span><span class="mi">2010</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">31</span><span class="p">),</span> <span class="n">mode</span><span class="o">=</span><span class="s1">&#39;events&#39;</span><span class="p">)</span>

    <span class="n">filtered</span> <span class="o">=</span> <span class="n">pm4py</span><span class="o">.</span><span class="n">filter_time_range</span><span class="p">(</span><span class="n">log</span><span class="p">,</span> <span class="n">dt</span><span class="o">.</span><span class="n">datetime</span><span class="p">(</span><span class="mi">2010</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">30</span><span class="p">),</span> <span class="n">dt</span><span class="o">.</span><span class="n">datetime</span><span class="p">(</span><span class="mi">2010</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">31</span><span class="p">),</span>
                                       <span class="n">mode</span><span class="o">=</span><span class="s1">&#39;traces_contained&#39;</span><span class="p">)</span>

    <span class="n">filtered</span> <span class="o">=</span> <span class="n">pm4py</span><span class="o">.</span><span class="n">filter_time_range</span><span class="p">(</span><span class="n">log</span><span class="p">,</span> <span class="n">dt</span><span class="o">.</span><span class="n">datetime</span><span class="p">(</span><span class="mi">2010</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">30</span><span class="p">),</span> <span class="n">dt</span><span class="o">.</span><span class="n">datetime</span><span class="p">(</span><span class="mi">2010</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">31</span><span class="p">),</span>
                                       <span class="n">mode</span><span class="o">=</span><span class="s1">&#39;traces_intersecting&#39;</span><span class="p">)</span>
</pre></div>
</div>
</section>
</section>
<section id="discovering-your-first-process-model">
<h2>Discovering Your First Process Model<a class="headerlink" href="#discovering-your-first-process-model" title="Link to this heading">#</a></h2>
<p>Since we have studied basic conceptual knowledge of process mining and event data munging and crunching, we focus on process discovery. As indicated, the goal is to discover, i.e., primarily completely automated and algorithmically, a process model that accurately describes the process, i.e., as observed in the event data. For example, given the running example event data, we aim to discover the process model that we have used to explain the running example’s process behavior, i.e., Figure 3. This section briefly explains what modeling formalisms exist in PM4Py while applying different process discovery algorithms. Secondly, we give an overview of the implemented process discovery algorithms, their output type(s), and how we can invoke them. Finally, we discuss the challenges of applying process discovery in practice.</p>
    <!--<iframe width="560" height="315" src="https://www.youtube.com/embed/BJMp763Ye_o" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>-->
<a href="https://www.youtube.com/embed/BJMp763Ye_o" target="_blank" rel="noopener noreferrer">→ Watch on YouTube: pm4py tutorials - tutorial #7 process discovery</a><section id="obtaining-a-process-model">
<h3>Obtaining a Process Model<a class="headerlink" href="#obtaining-a-process-model" title="Link to this heading">#</a></h3>
<p>There are three different process modeling notations that are currently supported in PM4Py. These notations are: BPMN, i.e., models such as the ones shown earlier in this tutorial, Process Trees and Petri nets. A Petri net is a more mathematical modeling representation compared to BPMN. Often the behavior of a Petri net is more difficult to comprehend compared to BPMN models. However, due to their mathematical nature, Petri nets are typically less ambiguous (i.e., confusion about their described behavior is not possible). Process Trees represent a strict subset of Petri nets and describe process behavior in a hierarchical manner. In this tutorial, we will focus primarily on BPMN models and process trees. For more information about Petri nets and their application to (business) process modeling (from a ‘workflow’ perspective), we refer to
<a class="reference external" href="https://www.researchgate.net/profile/Wil_Aalst/publication/220337578_The_Application_of_Petri_Nets_to_Workflow_Management/links/0deec517a563a45197000000/The-Application-of-Petri-Nets-to-Workflow-Management.pdf?_sg%5B0%5D=2TrqDbNsoZEr67XgOwI_9qxtlO_S1HJFHn8edW7aE0fMWzmsY0D1GhrsbRXdtZhTLvQ1KcSm9pkLzooDMl-eRg.DhnNamQg4EvK8MAwucwkB1VDke7eNq0E4jxMAa2IMXXZtvr9k1PPiwZpQEt1Z2iqkdkN-SOlWyjFloP-BivLow&amp;_sg%5B1%5D=XeHToX2_7feAtM6yO395-HEYttSzdWJeiLaGlD_7Dn3hRXYnVXya0-dHm5RWmjX22gF3ton7d7FSzF6FjL_NYZCQzRvJuPg4zPWnk_HCe0xj.DhnNamQg4EvK8MAwucwkB1VDke7eNq0E4jxMAa2IMXXZtvr9k1PPiwZpQEt1Z2iqkdkN-SOlWyjFloP-BivLow&amp;_iepl=">this article</a>.</p>
<p>Interestingly, none of the algorithms implemented in PM4Py directly discovers a BPMN model. However, any process tree can easily be translated to a BPMN model. Since we have already discussed the basic operators of BPMN models, we will start with the discovery of a process tree, which we convert to a BPMN model. Later, we will study the ‘underlying’ process tree. The algorithm that we are going to use is the ‘Inductive Miner’; More details about the (inner workings of the) algorithm can be found in
<a class="reference external" href="http://www.processmining.org/_media/presentations/2013/petri_nets.pptx">this presentation</a> and in <a class="reference external" href="http://citeseerx.ist.psu.edu/viewdoc/download?doi=10.1.1.396.197&amp;rep=rep1&amp;type=pdf">this article</a>. Consider the following code snippet. We discover a BPMN model (using a conversion from process tree to BPMN) using the inductive miner, based on the running example event data set.</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pm4py</span>

<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
    <span class="n">log</span> <span class="o">=</span> <span class="n">pm4py</span><span class="o">.</span><span class="n">read_xes</span><span class="p">(</span><span class="s1">&#39;C:/Users/demo/Downloads/running-example.xes&#39;</span><span class="p">)</span>

    <span class="n">process_tree</span> <span class="o">=</span> <span class="n">pm4py</span><span class="o">.</span><span class="n">discover_process_tree_inductive</span><span class="p">(</span><span class="n">log</span><span class="p">)</span>
    <span class="n">bpmn_model</span> <span class="o">=</span> <span class="n">pm4py</span><span class="o">.</span><span class="n">convert_to_bpmn</span><span class="p">(</span><span class="n">process_tree</span><span class="p">)</span>
    <span class="n">pm4py</span><span class="o">.</span><span class="n">view_bpmn</span><span class="p">(</span><span class="n">bpmn_model</span><span class="p">)</span>
</pre></div>
</div>
<p>Note that the resulting process model is the following image:</p>
<img alt="https://pm4py.fit.fraunhofer.de/static/assets/images/getting_started/bpmn_inductive_running_example.png" src="https://pm4py.fit.fraunhofer.de/static/assets/images/getting_started/bpmn_inductive_running_example.png" />
<p><em>Figure 6: BPMN model discovered based on the running example event data set, using the Inductive Miner implementation of PM4Py.</em></p>
<p>Observe that the process model that we discovered, is indeed the same model as the model that we have used before, i.e., as shown in Figure 3.</p>
<p>As indicated, the algorithm used in this example actually discovers a Process Tree. Such a process tree is, mathematically speaking, a
<a class="reference external" href="https://en.wikipedia.org/wiki/Tree_(graph_theory)">rooted tree</a> annotated with ‘control-flow’ information. We’ll first use the following code snippet to discover a process tree based on the running example, and, afterwards shortly analyze the model.</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pm4py</span>

<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
    <span class="n">log</span> <span class="o">=</span> <span class="n">pm4py</span><span class="o">.</span><span class="n">read_xes</span><span class="p">(</span><span class="s1">&#39;C:/Users/demo/Downloads/running-example.xes&#39;</span><span class="p">)</span>

    <span class="n">process_tree</span> <span class="o">=</span> <span class="n">pm4py</span><span class="o">.</span><span class="n">discover_process_tree_inductive</span><span class="p">(</span><span class="n">log</span><span class="p">)</span>
    <span class="n">pm4py</span><span class="o">.</span><span class="n">view_process_tree</span><span class="p">(</span><span class="n">process_tree</span><span class="p">)</span>
</pre></div>
</div>
<img alt="https://pm4py.fit.fraunhofer.de/static/assets/images/getting_started/process_tree_running_example.png" src="https://pm4py.fit.fraunhofer.de/static/assets/images/getting_started/process_tree_running_example.png" />
<p><em>Figure 7: Process Tree model discovered based on the running example event data set, using the Inductive Miner implementation of PM4Py.</em></p>
<p>We the process tree model from top to bottom. The first circle, i.e., the ‘root’ of the process tree, describes a ‘-&gt;’ symbol. This means that, when srolling further down, the process described by the model executes the ‘children’ of the root from left to right. Hence, first “register request” is executed, followed by the circle node with the ‘*’ symbol, finally to be followed by the node with the ‘X’ symbol. The node with the ‘*’ represents ‘repeated behavior’, i.e., the possibility to repeat the behavior. When scrolling further down, the left-most ‘subtree’ of the ‘*’-operator is always executed, the right-most child (in this case, “reinitiate request”) triggers a repeated execution of the left-most child. Observe that this is in line with the process models we have seen before, i.e., the “reinitiate request” activity allows us to repeat the behavior regarding examinations and checking the ticket. When we go further down below in the subtree of the ‘*’-operator, we again observe a ‘-&gt;’ node. Hence, its left-most child is executed first, followed by its right-most child (“decide”). The left-most child of the ‘-&gt;’ node has a ‘+’ symbol. This represents concurrent behavior; hence, its children can be executed simultaneously or in any order. Its left-most child is the “check ticket” activity. Its right-most child is a node with an ‘X’ symbol (just like the right-most child of the tree’s root). This represents an exclusive choice, i.e., one of the children is executed (either “examine casually” or “examine thoroughly”). Observe that the process tree describes the exact same behavior as the BPMN models shown before.</p>
</section>
<section id="obtaining-a-process-map">
<h3>Obtaining a Process Map<a class="headerlink" href="#obtaining-a-process-map" title="Link to this heading">#</a></h3>
<p>Many <a class="reference external" href="https://www.gartner.com/reviews/market/process-mining">commercial process mining solutions</a> do not provide extended support for discovering process models. Often, as a main visualization of processes, process maps are used. A process map contains activities and connections (by means of arcs) between them. A connection between two activities usually means that there some form of precedence relation. In its simplest form, it means that the ‘source’ activity directly precedes the ‘target’ activity. Let’s quickly take a look at a concrete example! Consider the following code snippet, in which we learn a ‘Directly Follows Graph’ (DFG)-based process map:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pm4py</span>

<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
    <span class="n">log</span> <span class="o">=</span> <span class="n">pm4py</span><span class="o">.</span><span class="n">read_xes</span><span class="p">(</span><span class="s1">&#39;C:/Users/demo/Downloads/running-example.xes&#39;</span><span class="p">)</span>

    <span class="n">dfg</span><span class="p">,</span> <span class="n">start_activities</span><span class="p">,</span> <span class="n">end_activities</span> <span class="o">=</span> <span class="n">pm4py</span><span class="o">.</span><span class="n">discover_dfg</span><span class="p">(</span><span class="n">log</span><span class="p">)</span>
    <span class="n">pm4py</span><span class="o">.</span><span class="n">view_dfg</span><span class="p">(</span><span class="n">dfg</span><span class="p">,</span> <span class="n">start_activities</span><span class="p">,</span> <span class="n">end_activities</span><span class="p">)</span>
</pre></div>
</div>
<img alt="https://pm4py.fit.fraunhofer.de/static/assets/images/getting_started/dfg_running_example.png" src="https://pm4py.fit.fraunhofer.de/static/assets/images/getting_started/dfg_running_example.png" />
<p><em>Figure 8: Process Map (DFG-based) discovered based on the running example event data set.</em></p>
<p>The <strong>pm4py.discover_dfg(log)</strong> function returns a triple. The first result, i.e., called dfg in this example, is a dictionary mapping pairs of activities that follow each other directly, to the number of corresponding observations. The second and third arguments are the start and end activities observed in the event log (again counters). In the visualization, the green circle represents the start of any observed process instance. The orange circle represents the end of an observed process instance. In 6 cases, the register request is the first activity observed (represented by the arc labeled with value 6). In the event log, the check ticket activity is executed directly after the register request activity. The examine thoroughly activity is following registration once, examine casually follows 3 times. Note that, indeed, in total, the register activity is followed by 6 different events, i.e., there are 6 traces in the running example event log. However, note that there are typically much more relations observable compared to the number of cases in an event log. Even using this simple event data, the DFG-based process map of the process is much more complex than the process models learned earlier. Furthermore, it is much more difficult to infer the actual execution of the process based on the process map. Hence, when using process maps, one should be very carefully when trying to comprehend the actual process.</p>
<p>In PM4Py, we also implemented the <a class="reference external" href="https://ieeexplore.ieee.org/iel5/5937059/5949295/05949453.pdf">Heuristics Miner</a>, a more advanced process map discovery algorithm, compared to its DFG-based alternative. We won’t go into the algorithmic details here, however, in a HM-based process map, the arcs between activities represent observed concurrency. For example, the algorithm is able to detect that the ticket check and examination are concurrent. Hence, these activities will not be connected in the process map. As such, a HM-based process map is typically simpler compared to a DFG-based process map.</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pm4py</span>

<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
    <span class="n">log</span> <span class="o">=</span> <span class="n">pm4py</span><span class="o">.</span><span class="n">read_xes</span><span class="p">(</span><span class="s1">&#39;C:/Users/demo/Downloads/running-example.xes&#39;</span><span class="p">)</span>

    <span class="nb">map</span> <span class="o">=</span> <span class="n">pm4py</span><span class="o">.</span><span class="n">discover_heuristics_net</span><span class="p">(</span><span class="n">log</span><span class="p">)</span>
    <span class="n">pm4py</span><span class="o">.</span><span class="n">view_heuristics_net</span><span class="p">(</span><span class="nb">map</span><span class="p">)</span>
</pre></div>
</div>
<img alt="https://pm4py.fit.fraunhofer.de/static/assets/images/getting_started/hnet_running_example.png" src="https://pm4py.fit.fraunhofer.de/static/assets/images/getting_started/hnet_running_example.png" />
<p><em>Figure 9: Process Map (HM-based) discovered based on the running example event data set.</em></p>
</section>
</section>
<section id="conformance-checking">
<h2>Conformance Checking<a class="headerlink" href="#conformance-checking" title="Link to this heading">#</a></h2>
<!--<iframe width="560" height="315" src="https://www.youtube.com/embed/0YNvijqX3FY" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>-->
<a href="https://www.youtube.com/embed/0YNvijqX3FY" target="_blank" rel="noopener noreferrer">→ Watch on YouTube: pm4py tutorials - tutorial #8 conformance checking</a></section>
</section>


                </article>
              
              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
<div
    id="pst-page-navigation-heading-2"
    class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> On this page
  </div>
  <nav class="bd-toc-nav page-toc" aria-labelledby="pst-page-navigation-heading-2">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#understanding-process-mining">Understanding Process Mining</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#processes-in-our-modern-world">Processes in our Modern World</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#importing-your-first-event-log">Importing Your First Event Log</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#file-types-csv-and-xes">File Types: CSV and XES</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#loading-csv-files">Loading CSV Files</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#loading-xes-files">Loading XES Files</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#exporting-event-data">Exporting Event Data</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#storing-a-pandas-data-frame-as-a-csv-file">Storing a Pandas Data Frame as a csv file</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#storing-a-pandas-data-frame-as-a-xes-file">Storing a Pandas Data Frame as a .xes file</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#storing-an-event-log-object-as-a-csv-file">Storing an Event Log object as a .csv file</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#storing-an-event-log-object-as-a-xes-file">Storing an Event Log object as a .xes file</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#pre-built-event-log-filters">Pre-Built Event Log Filters</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#discovering-your-first-process-model">Discovering Your First Process Model</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#obtaining-a-process-model">Obtaining a Process Model</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#obtaining-a-process-map">Obtaining a Process Map</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#conformance-checking">Conformance Checking</a></li>
</ul>
  </nav></div>

  <div class="sidebar-secondary-item">

  <div class="tocsection sourcelink">
    <a href="_sources/getting_started.rst.txt">
      <i class="fa-solid fa-file-lines"></i> Show Source
    </a>
  </div>
</div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
          </footer>
        
      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="./scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b"></script>
<script src="./scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b"></script>

  <footer class="bd-footer">
<div class="bd-footer__inner bd-page-width">
  
    <div class="footer-items__start">
      
        <div class="footer-item">

  <p class="copyright">
    
      © Copyright Process Intelligence Solutions.
      <br/>
    
  </p>
</div>
      
        <div class="footer-item">

  <p class="sphinx-version">
    Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 8.0.2.
    <br/>
  </p>
</div>
      
    </div>
  
  
  
    <div class="footer-items__end">
      
        <div class="footer-item">
<p class="theme-version">
  Built with the <a href="https://pydata-sphinx-theme.readthedocs.io/en/stable/index.html">PyData Sphinx Theme</a> 0.15.4.
</p></div>
      
    </div>
  
</div>

  </footer>
  </body>
</html>